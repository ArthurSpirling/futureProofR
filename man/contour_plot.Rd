% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/contour_plots.R
\name{contour_plot}
\alias{contour_plot}
\title{Contour Plot for Misclassification Impact Visualization}
\usage{
contour_plot(
  dat,
  m,
  treatment,
  outcome,
  binary,
  ground_truth = NULL,
  confMat = NULL,
  rho_M_Y = NULL,
  rho_M_D = NULL,
  nsims = 100,
  R_vect = seq(0.025, 0.5, by = 0.025),
  pi_vect = seq(0.05, 0.95, by = 0.05),
  R_obs = NULL,
  pi_obs = NULL
)
}
\arguments{
\item{dat}{A data frame containing the dataset.}

\item{m}{A fitted model object (e.g., from `lm`) used to extract control variables.}

\item{treatment}{A string specifying the name of the treatment variable in `dat`.}

\item{outcome}{A string specifying the name of the outcome variable in `dat`.}

\item{binary}{A string specifying the name of the observed binary treatment variable
subject to misclassification.}

\item{ground_truth}{Optional string specifying the name of the ground truth
treatment variable in `dat`.}

\item{confMat}{Optional 2x2 confusion matrix for the binary treatment variable.}

\item{rho_M_Y}{Optional numeric correlation between misclassification indicator
and outcome variable.}

\item{rho_M_D}{Optional numeric correlation between misclassification indicator
and treatment variable.}

\item{nsims}{Number of simulations to run for estimating lambda values.
Default is 100.}

\item{R_vect}{Numeric vector of misclassification rates to evaluate.
Default is `seq(0.025, 0.5, by = 0.025)`.}

\item{pi_vect}{Numeric vector of proportions of treated units to evaluate.
Default is `seq(0.05, 0.95, by = 0.05)`.}

\item{R_obs}{Optional numeric value specifying the observed or user-supplied misclassification rate.}

\item{pi_obs}{Optional numeric value specifying the observed or user-supplied proportion of treated units.}
}
\value{
A list with components:
\describe{
  \item{p}{A ggplot2 object representing the contour plot.}
  \item{contour_dat}{The list output from `contour_plot_data` containing the data used for plotting.}
}
}
\description{
This function creates a contour plot visualizing the impact of misclassification rates
and treatment proportions on the bias or coverage of treatment effect estimates,
based on simulated data.
}
\details{
This function internally calls `contour_plot_data` to generate the data grid and then plots contour lines
representing the simulated lambda values. The plot highlights the observed or user-supplied misclassification
rate and treatment proportion with a diamond marker.
}
\examples{
\dontrun{
plot_res <- contour_plot(dat = mydata,
                         m = lm(Y ~ D + X1 + X2, data = mydata),
                         treatment = "D",
                         outcome = "Y",
                         binary = "D_obs",
                         ground_truth = "D_true",
                         nsims = 50)
plot_res$p  # to display the plot
}

}
